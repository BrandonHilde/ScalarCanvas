<!DOCTYPE html>
<html>
    <head>
        <script src="Math/Math.js"></script>
        <script src="Tools/Mirror.js"></script>
        <script src="Tools/Grid.js"></script>
        <script src="Canvas/CanvasSetup.js"></script>
        <script src="Canvas/CanvasBuilder.js"></script>
        <script src="Canvas/Objects.js"></script>
        <script src="Input/InputHandlers.js"></script>
        <script src="Input/ShapeInput.js"></script>
        <script src="FileFormat/SaveSVG.js"></script>
        
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <canvas id="drawingCanvas"></canvas>
        <script>

            /// CANVAS SETUP
            const canvasObj = document.getElementById('drawingCanvas');

            BuildCanvas(canvasObj);

            const graphics = canvasObj.getContext("2d");

            graphics.translate(0.5, 0.5);

            ClearCanvas(canvasObj, graphics);

            const Builder = new CanvasBuilder();
            
            /// END OF CANVAS SETUP

            /// ENUMS

            const DrawingState = {
                AddCurve: "Add Curves",
                DrawCurve: "Draw Curves",
                Edit: "Edit Mode",
                DrawPolygon: "Draw Polygon"
            };

            const HotKeys = {
                ToggleMode: "Tab",
                EditMode: "e",
                AddCurve: "a",
                DrawCurve: "d",
                SelectNextShape: "n",
                SaveShapes: "s",
                Mirror: "m",
                Grid: "g"
            };

            var currentState = DrawingState.DrawCurve;

            /// END OF ENUMS

            /// USER INPUT
            document.addEventListener("keypress", function (e) {
                OnKeyPress(e);
            });

            document.addEventListener("mousedown", function (e) {
                OnMouseDown(e);
            });

            document.addEventListener("mouseup", function (e) {
                OnMouseUp(e);
            });

            document.addEventListener("mousemove", function (e) {

                OnMouseMove(e);
            });

            document.addEventListener('mousewheel', function(e) {
                OnMouseWheel(e);
            });

            canvasObj.addEventListener('drop', function(e) {
                OnDrop(e);
            });

            canvasObj.addEventListener('dragenter', function(e) {
                e.preventDefault();
                e.stopPropagation();
            });

            canvasObj.addEventListener('dragover', function(e) {
                e.preventDefault();
                e.stopPropagation();
            });
            /// END OF USER INPUT

        </script>
    </body>
</html>